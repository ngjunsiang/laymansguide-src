<!DOCTYPE html>
<html lang="en">
<head>
          <title>Layman's Guide to Computing - Issue 108: Safeguarding data operations</title>
        <meta charset="utf-8" />
        <meta name="generator" content="Pelican" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" type="text/css" href="/theme/css/style.css" />





</head>

<body>
        <header>
              <hgroup><h1><a href="/">Layman's Guide to Computing</a></h1></hgroup>
        <nav><ul>
            <li><a href="/categories">Seasons</a></li>
            <li><a href="/tags">Tags</a></li>
        </ul></nav>
        </header>
        <main>
<article>
  <p><a href="/category/season-09.html">Season 09</a></p>
  <header>
    <h2>
      <a href="/issue108.html" rel="bookmark"
         title="Permalink to Issue 108: Safeguarding data operations">Issue 108: Safeguarding data operations</a></h2>
 
  </header>
  <p>Published: <time datetime="2021-02-20T08:00:00+08:00">
    Sat 20 February 2021
  </time></p>
  <p><a href="https://buttondown.email/laymansguide/archive/"><strong>Previously:</strong></a> When write operations are interrupted prematurely, filesystem corruption often results.</p>
<p>When a batch of data (shipment of cargo)) arrives at our warehouse, there are two things that need doing:</p>
<p>1) The data needs to be written into sectors (the smallest unit of storage that the disk handles),
2) The file table needs to be updated.</p>
<h2>Writing data the safe way</h2>
<p>If the write operation gets interrupted, it is preferable that our file table is not updated; this way, we will not find any reference to the data in the file table, and we can attempt the write operation again.</p>
<p>This will appear strange in a warehouse analogy; the cargo, damaged or intact, is still occupying space on the racks! But remember that when we are talking about a hard disk storing data, there is no <em>physical cargo</em>; the data exists as a specific arrangement of electrons/atoms. We can override the existing arrangement of electrons/atoms without having to reset it first.</p>
<h2>Drawbacks of safe writing</h2>
<p>This way of storing data first before updating the file table is advantageous in its security; if the write operation is interrupted halfway, we are less likely to suffer filesystem corruption.</p>
<p>But for large batches of data (or large shipments of cargo), this means a long wait ... and in the meantime, nothing else can happen! Hard drives only have one writing needle, which is like a warehouse only having one forklift. If you have other applications waiting for that file (similar to other employees waiting for the file record to appear in the file table), they will be twiddling their thumbs until the last sector of data is written, the last pallet of cargo loaded onto the racks.</p>
<p>But this is the <em>right thing to do</em>, isn’t it? It doesn’t matter; <a href="https://blog.codinghorror.com/actual-performance-perceived-performance/">Windows Vista did it this way</a>, waiting for write operations to complete before updating the file metadata in the file table, and the result is that <em>people complained that it was slower</em>. People do not like things slow!</p>
<p>Why did Windows XP feel faster, then? Because it did it the other way round!</p>
<p><strong>Issue summary:</strong> Safe writes ensure that all the data is written to disk sectors properly first before updating the file table. The result is that write operations take a longer time to complete.</p>
<p>Actually, Windows 10 uses a system similar to this for mounting portable devices (USB hard drives, flash drives, etc) by default. They sped it up in other ways. So if you accidentally unplug a drive before it is completely done writing ... usually it won’t completely screw things up.</p>
<h2>What I’ll be covering next</h2>
<p><strong>Next issue:</strong> [LMG S9] Issue 109: Speeding up data operations</p>
<p>If you want, there are settings you can adjust to make Windows 10 access a portable device <em>the fast way</em>. I don’t teach it here, because this is not the newsletter for it. But we’ll see how <em>the fast way</em> works in the next issue.</p>
<p><strong>Sometime in the future:</strong> What is:</p>
<ul>
<li>booting up? [Issue 15]</li>
<li>XSS? [Issue 8]</li>
<li>a good reason developers write code and give it away for free online? [Issue 21]</li>
<li>firmware? [Issue 34]</li>
<li>OpenType? And what are fonts anyway? [Issue 42]</li>
<li>a driver file and why do I need one? [Issue 98]</li>
<li>why does computer memory exist when apps can read directly from the hard disk? [Issue 105]</li>
</ul>
  <footer>
    <!--     <p>Last updated: <time datetime="2021-02-20T08:00:00+08:00">
      Sat 20 February 2021
    </time></p>
 -->
    <address>
      By           <a href="/author/j-s-ng.html">J S Ng</a>
    </address>
  </footer>
  </article>
<ul>
        <li>
            <a href="/issue107.html">
                Issue 107: The challenges of storage
            </a>
        </li>
        <li>
            <a href="/issue109.html">
                Issue 109: Speeding up data operations
            </a>
        </li>
</ul>
        </main>
        <footer>
                <address>
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>,
                which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address>
        </footer>
</body>
</html>