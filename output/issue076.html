<!DOCTYPE html>
<html lang="en">
<head>
          <title>Layman's Guide to Computing - Issue 76: Third-parties and cross-site resources</title>
        <meta charset="utf-8" />
        <meta name="generator" content="Pelican" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" type="text/css" href="/theme/css/style.css" />





</head>

<body>
        <header>
              <hgroup><h1><a href="/">Layman's Guide to Computing</a></h1></hgroup>
        <nav><ul>
            <li><a href="/categories">Seasons</a></li>
            <li><a href="/tags">Tags</a></li>
        </ul></nav>
        </header>
        <main>
<article>
  <p><a href="/category/season-06.html">Season 06</a></p>
  <header>
    <h2>
      <a href="/issue076.html" rel="bookmark"
         title="Permalink to Issue 76: Third-parties and cross-site resources">Issue 76: Third-parties and cross-site resources</a></h2>
 
  </header>
  <p>Published: <time datetime="2020-06-13T08:00:00+08:00">
    Sat 13 June 2020
  </time></p>
  <p><a href="https://buttondown.email/laymansguide/archive/"><strong>Previously:</strong></a> By not enforcing strict cookie policies on their own sites, publishers allowed advertisers to sneakily set cookies on their site audience. This allowed advertisers to reach the same audience via their advertising slots on other websites, which could be bought more cheaply. The publishers were cut out of the value chain and were not longer “gatekeepers” to their own site readers. They could not sell their advertising slots at a premium.</p>
<h2>First-party cookies</h2>
<p>Almost every site that needs to “remember” who you are will set cookies on your browser. The reasons for doing so can range from simply remembering that you are not new to the site and don’t need to be reminded to subscribe to their promotional newsletter, to giving you a login cookie so that the site knows you are logged in. (This cookie gets removed when you log out, which is why clearing cookies automatically logs you out of most sites.)</p>
<p>The site publisher sets these cookies via scripts that are often hosted on the same URL. Since cookies are tagged by URL domain, these cookies will have the same domain as the site. These are <strong>first-party cookies</strong>. Blocking these will result in internet-wide breakage, particularly the large majority of login mechanisms.</p>
<h2>Third-party cookies</h2>
<p>On the other hand, if the site uses a script from another domain, and this other-domain script sets a cookie, that cookie will have a domain tag that is not the same as the site URL domain (e.g. huffpost.com using a script from an advertiser that sets an advertising cookie, which will not have huffpost.com as its domain). These cookies are known as <strong>third-party cookies</strong>.</p>
<p>These cookies enable advertisers and data-mining companies to track you across websites. Any website you visit which is running their script can retrieve these cookies and send the cookie information back to their servers. This is known as <strong>cross-site tracking</strong>.</p>
<p>A simple way to block pretty much all cross-site tracking is to block third-party cookies. But this also causes other problems, as I will explain below.</p>
<h2>Software-as-a-Service needs third-party scripts</h2>
<p>There was once a time when sites took it upon themselves to run all the services they needed. Login, authentication, database management … everything was handled on the server, by scripts that originated on the same server. first-party everything.</p>
<p>As sites grew more complex, Software-as-a-Service (SaaS) companies grew to provide more specialised services involved in the running of such sites. Companies cropped up offering off-site databases, login servers, and all manner of services. That means that when users visit your site, the browser downloads the SaaS company’s script, which carries out the task for you.</p>
<p>For example, Google’s reCAPTCHA service lets you add a CAPTCHA to your site. A CAPTCHA is a test that humans are supposed to pass and bots (automated scripts) are supposed to fail: usually some image recognition-based task such as “identify all buses” or “identify all traffic lights” or “type the letters you see”. The code involved in carrying this out is not simple, and most sites are not capable of running the full backend required to make it work. So they embed a reCAPTCHA script from Google on their site, let the script verify that the user is a human, and then carry on as usual.</p>
<p>However, the Google reCAPTCHA script sets and retrieves cookies. (I am guessing it probably sends your Google cookie to its servers to look up your online history and determine if you are malicious or not.) Since the script originates from Google and not from the website itself, the browser considers it a third-party cookie. Disabling third-party cookies will also cause reCAPTCHA to fail, resulting in a non-functional login for the site.</p>
<h2>Cookie categories</h2>
<p>For this reason, cookie policies often differentiate between cookie categories:</p>
<ol>
<li>
<p>Session cookies<br>
   Cookies that are set <strong>for that browsing session only</strong>. These cookies are removed when the browser window is closed. These cookies may be used to remember your progress in a multi-step transaction, e.g. doing a multi-page survey.</p>
</li>
<li>
<p>Persistent cookies<br>
   These cookies last beyond the current browsing session, and normally terminate after a pre-defined period of time (I often see “1 year” as a default value of sorts, although it can even be set to 30 years!)  Such cookies are used to remember the state you left a service in (e.g. what you have in your shopping cart, even if you didn’t log in or create an account).</p>
</li>
<li>
<p>Strictly necessary cookies<br>
   (Subjectively) necessary cookies for legal compliance or other reasons, for example implementing parental controls, or internal analytics (tracking most-visited pages, or visit frequency).</p>
</li>
<li>
<p>Functional cookies<br>
   Cookies set for the intent of enabling site functionality, e.g. remembering preferences and settings.</p>
</li>
<li>
<p>Performance cookies<br>
   Cookies that enhance the website’s performance, not always what you think that means. For example, if the website is trying out a new feature, they may do A/B testing, giving one cohort of users the “A” interface and another cohort the “B” interface. Which cohort you are in is decided at random, and remembered with a performance cookie.</p>
</li>
<li>
<p>Advertising cookies<br>
   Just explained in Issues 73 and 74.</p>
</li>
</ol>
<h2>Caveats</h2>
<p>I think it is only responsible for me to point out here that the above categorisation is not exactly enforced by law, and nothing stops a company from miscategorising their cookies so as to mislead a user into enabling them. For instance, some sites may categorise a cookie for tracking identity as a functional cookie, justifying it by claiming it as part of their security measures, and thereby require the user to enable third-party functional cookies before they are able to use the site.</p>
<h2>Objections to internet-wide disabling of third-party cookies</h2>
<p>It would come as no surprise that ad companies object to such measures, claiming it will “hurt the user experience”, “sabotage the economic model for the Internet”, and “disrupt the valuable digital advertising ecosystem that funds much of today’s digital content and services”. (The quoted parts come from an <a href="https://www.patentlyapple.com/patently-apple/2017/09/ad-groups-send-an-open-letter-to-apple-objecting-to-the-new-intelligent-tracking-prevention-setting-in-safari.html">open letter from the Digital Advertising Community to Apple Inc.</a>)</p>
<p>Other websites have chimed in with the above concerns about disrupted provision of third-party services (X-as-a-Service providers e.g. Software-as-a-Service especially). Right now the shakeout is happening, with the browsers working out an alternative to third-party cookies, software service providers working out alternatives to cookies for providing services, and ad companies finding more subtle ways to track users. It remains to be seen what the Internet will be using in the next 5 years.</p>
<p><strong>Issue summary:</strong> Cookies with the same domain as the site are first-party cookies, while cookies with domains different from the site are third-party cookies. Cookies are used for all kinds of purposes, from remembering browsing sessions, to logging users in, to tracking their identity across websites. Blocking all third-party cookies indiscriminately can result in most of not all of these functions breaking.</p>
<h2>What I’ll be covering next</h2>
<p><strong>Next issue:</strong> [LMG S6] Issue 77: Wearing clothes on the Internet</p>
<p>Today we wear clothes for all kinds of reasons: to look cool, to cover ourselves up, to feel comfy … but I suppose in more prehistoric times, the primary purpose of clothing were more basic: to protect one from the elements, and to hide information.</p>
<p>What kind of information? Wounds, vulnerabilities, illnesses, recognisable features (e.g. tattoos), sometimes even sex … all of these are information that people sought to hide from each other in popular fiction, and presumably in real life as well.</p>
<p>Whether you believe in sharing about yourself openly or only sharing what is necessary, nobody today goes around naked (with the exception of nudist communities). Yet, as recently as ten years ago, we were doing the equivalent on the Internet: any information that websites requested about us was given freely, with few restrictions if any.</p>
<p>Today, with advertisers and other data-mining companies tracking you everywhere you go, with malicious hackers, phishers, and scammers waiting to snare unsuspecting users, and with more at stake being tied to your personal digital identity, we have to do better.</p>
<p>We have to wear clothes on the Internet.</p>
<p><strong>Sometime in the future:</strong> What is:</p>
<ul>
<li>booting up? [Issue 15]</li>
<li>XSS? [Issue 8]</li>
<li>a good reason developers write code and give it away for free online? [Issue 21]</li>
<li>firmware? [Issue 34]</li>
<li>OpenType? And what are fonts anyway? [Issue 42]</li>
<li>What is involved in installing a piece of software? [Issue 48]</li>
<li>How do apps know where a file starts and ends? [Issue 49]</li>
<li>What is a password hash? [Issue 63]</li>
</ul>
  <footer>
    <!--     <p>Last updated: <time datetime="2020-06-13T08:00:00+08:00">
      Sat 13 June 2020
    </time></p>
 -->
    <address>
      By           <a href="/author/j-s-ng.html">J S Ng</a>
    </address>
  </footer>
  </article>
<ul>
        <li>
            <a href="/issue075.html">
                Issue 75: The Costs of Data Leakage
            </a>
        </li>
        <li>
            <a href="/issue077.html">
                Issue 77: Wearing clothes on the Internet
            </a>
        </li>
</ul>
        </main>
        <footer>
                <address>
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>,
                which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address>
        </footer>
</body>
</html>